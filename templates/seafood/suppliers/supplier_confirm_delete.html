{% extends "layouts/base.html" %}
{% load static %}

{% block title %}Supprimer Fournisseur - Seafood Portal{% endblock %}

{% block content %}
<div class="pb-5">
  <div class="row align-items-center justify-content-between g-3 mb-4">
    <div class="col-auto">
      <h2 class="mb-0">Supprimer un Fournisseur</h2>
    </div>
    <div class="col-auto">
      <a href="{% url 'portal_admin:supplier_list' %}" class="btn btn-secondary">
        <span class="fas fa-arrow-left me-2"></span>Retour à la liste
      </a>
    </div>
  </div>

  <div class="card border-danger">
    <div class="card-body">
      <div class="alert alert-danger d-flex align-items-center" role="alert">
        <span class="fas fa-exclamation-triangle me-3 fs-3"></span>
        <div>
          <strong>Attention !</strong> Cette action est irréversible.
        </div>
      </div>

      <h5 class="mb-3">Êtes-vous sûr de vouloir supprimer ce fournisseur ?</h5>

      <div class="card bg-light mb-4">
        <div class="card-body">
          <div class="row">
            <div class="col-md-2 text-center">
              {% if supplier.logo %}
                <img src="{{ supplier.logo.url }}" alt="{{ supplier.name }}" style="width: 80px; height: 80px; object-fit: cover; border-radius: 8px;">
              {% else %}
                <div style="width: 80px; height: 80px; background: #e9ecef; border-radius: 8px; display: flex; align-items: center; justify-content: center; margin: 0 auto;">
                  <span class="fas fa-truck fa-2x text-muted"></span>
                </div>
              {% endif %}
            </div>
            <div class="col-md-10">
              <h6 class="mb-2"><strong>{{ supplier.name }}</strong></h6>
              <p class="mb-1"><strong>Code:</strong> {{ supplier.accounting_code }}</p>
              <p class="mb-1"><strong>Catégorie:</strong> {{ supplier.get_category_display }}</p>
              <p class="mb-1"><strong>Paiement:</strong> {{ supplier.payment_terms }} jours</p>
              {% if supplier.email %}
                <p class="mb-1"><strong>Email:</strong> {{ supplier.email }}</p>
              {% endif %}
              {% if supplier.contact_phone %}
                <p class="mb-1"><strong>Téléphone:</strong> {{ supplier.contact_phone }}</p>
              {% endif %}
              <p class="mb-0"><strong>Statut:</strong>
                {% if supplier.status == 'active' %}
                  <span class="badge bg-success">{{ supplier.get_status_display }}</span>
                {% else %}
                  <span class="badge bg-warning">{{ supplier.get_status_display }}</span>
                {% endif %}
              </p>
            </div>
          </div>
        </div>
      </div>

      <form method="post">
        {% csrf_token %}
        <div class="d-flex gap-2">
          <button type="submit" class="btn btn-danger">
            <span class="fas fa-trash me-2"></span>Oui, supprimer définitivement
          </button>
          <a href="{% url 'portal_admin:supplier_list' %}" class="btn btn-secondary">
            <span class="fas fa-times me-2"></span>Non, annuler
          </a>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
